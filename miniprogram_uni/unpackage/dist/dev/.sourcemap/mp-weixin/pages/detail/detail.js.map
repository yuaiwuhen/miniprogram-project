{"version":3,"sources":["uni-app:///main.js","webpack:////Users/smzdm/Code/miniprogram-project/miniprogram_uni/pages/detail/detail.vue?4562","webpack:////Users/smzdm/Code/miniprogram-project/miniprogram_uni/pages/detail/detail.vue?61fc","webpack:////Users/smzdm/Code/miniprogram-project/miniprogram_uni/pages/detail/detail.vue?c2e3","webpack:////Users/smzdm/Code/miniprogram-project/miniprogram_uni/pages/detail/detail.vue?603e","uni-app:///pages/detail/detail.vue","webpack:////Users/smzdm/Code/miniprogram-project/miniprogram_uni/pages/detail/detail.vue?9621","webpack:////Users/smzdm/Code/miniprogram-project/miniprogram_uni/pages/detail/detail.vue?1906"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAo0B,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiEx1B;AACA,mB;;AAEA;AACA,MADA,kBACA;AACA;AACA,YADA;AAEA,oBAFA;AAGA,gBAHA;AAIA,mBAJA;AAKA,aALA;AAMA,YANA;AAOA,mBAPA;AAQA,gBARA;AASA,sBATA;AAUA,mBAVA;AAWA,oBAXA;AAYA,mBAZA;;AAcA,GAhBA;;AAkBA,gBAlBA;AAmBA,WAnBA;AAoBA;AACA;AACA;AACA;AACA;AACA,oBADA;;AAGA;AACA,oCADA;;;AAIA;AACA;AACA,qCADA;;AAGA;;AAEA;AACA;AACA;AACA;AACA,GAzCA;;AA2CA;;;AAGA,gCA9CA;;AAgDA;;;AAGA,8BAnDA;;AAqDA;;;AAGA,8BAxDA;;AA0DA;;;AAGA,kCA7DA;;AA+DA;;;AAGA,oDAlEA;;AAoEA;;;AAGA,4CAvEA;AAwEA;AACA,cADA,sBACA,EADA,EACA;;AAEA,YAFA;;;AAKA,UALA,CAEA,MAFA,CAGA,IAHA,GAKA,IALA,CAGA,IAHA,CAIA,GAJA,GAKA,IALA,CAIA,GAJA;AAMA;AACA;AACA,yBADA;;AAGA;AACA,8BADA;AAEA;AACA,6BADA;AAEA,oBAFA;AAGA,kBAHA;AAIA;AACA,mBADA,EAJA,EAFA;;;AAUA,UAVA,CAUA;AACA;AACA;AACA,wBADA;AAEA,yBAFA;;AAIA,SALA,MAKA;AACA;AACA,sCADA;;AAGA;AACA;;AAEA;AACA,sBADA;;AAGA,OA1BA,EA0BA,KA1BA,CA0BA;AACA;AACA;AACA,wBADA;;AAGA,OA/BA;AAgCA,KA3CA;;AA6CA,UA7CA,kBA6CA,CA7CA,EA6CA;AACA;AACA,qIADA;;AAGA,KAjDA;;AAmDA,UAnDA,kBAmDA,CAnDA,EAmDA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,4EADA;;AAGA;AACA,KA7DA;;AA+DA;AACA,gBAhEA,wBAgEA,CAhEA,EAgEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,+CADA;;AAGA;AACA,KAxEA;;AA0EA,cA1EA,wBA0EA;AACA;AACA,iCADA;;AAGA,KA9EA,EAxEA,E;;;;;;;;;;;;;ACpEA;AAAA;AAAA;AAAA;AAAirC,CAAgB,imCAAG,EAAC,C;;;;;;;;;;;ACArsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/detail/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=3e159eb4&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/detail/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=3e159eb4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n<view>\r\n<!-- miniprogram/pages/detail/detail.wxml -->\n<view class=\"detail\" v-if=\"isExist && isDown\">\n  <view class=\"title\">{{detail.name}}</view>\n  <view class=\"poet\">\n    <view>{{detail.dynasty}}</view>\n    <view class=\"name\" :data-poet=\"detail.poet\" @tap=\"goPoet\">{{detail.poet}}</view>\n  </view>\n  <view class=\"poem\">\n    <text v-for=\"(item, index) in detail.content\" :key=\"index\">{{item}}</text>\n  </view>\n  <view class=\"tags\">\n    <text v-for=\"(item, index) in detail.tags\" :key=\"index\" data-parenttags=\"标签\" :data-tags=\"item\" @tap=\"goList\">{{item}}</text>\n  </view>\n  <view class=\"more\">\n    <view class=\"topTabSwiper\">\n      <view :class=\"'tab  ' + (currentData == 0 ? 'tabBorer' : '')\" data-current=\"0\" @tap=\"checkCurrent\">\n        译文\n      </view>\n      <view :class=\"'tab  ' + (currentData == 1 ? 'tabBorer' : '')\" data-current=\"1\" @tap=\"checkCurrent\">\n        注释\n      </view>\n      <view :class=\"'tab  ' + (currentData == 2 ? 'tabBorer' : '')\" data-current=\"2\" @tap=\"checkCurrent\">\n        赏析\n      </view>\n    </view>\n    <view class=\"swiper\">\n      <view :class=\"'itembox ' + (currentData == 0 ? 'showItem' : '')\">\n        <view v-for=\"(item, index) in detail.yiwen\" :key=\"index\">{{item}}</view>\n        <view v-if=\"!detail.yiwen.length\">暂无译文</view>\n      </view>\n      <view :class=\"'itembox ' + (currentData == 1 ? 'showItem' : '')\">\n        <view v-for=\"(item, index) in detail.zhushi\" :key=\"index\">{{item}}</view>\n        <view v-if=\"!detail.zhushi.length\">暂无注释</view>\n      </view>\n      <view :class=\"'itembox ' + (currentData == 2 ? 'showItem' : '')\">\n        <view v-for=\"(item, index) in detail.shangxi\" :key=\"index\">{{item}}</view>\n        <view v-if=\"!detail.shangxi.length\">暂无赏析</view>\n      </view>\n    </view>\n  </view>\n</view>\n\n<!-- 首页 -->\n<view class=\"backhome\" @tap=\"onBackhome\">\n  <image src=\"/static/images/nav/index-active.png\"></image>\n  <text>回首页</text>\n</view>\n\n<!-- 分享 -->\n<view class=\"share\">\n  <image src=\"/static/images/share.png\"></image>\n  <text>分享</text>\n  <button open-type=\"share\"></button>\n</view>\n\n\n<view class=\"no-list\" v-if=\"!isExist\" style=\"text-align:center;font-size:24rpx;padding:30rpx;\">\n  <text style=\"color:#666;\">--- 未找到 ---</text>\n</view>\r\n</view>\r\n</template>\r\n\r\n<script>\r\n// miniprogram/pages/detail/detail.js\nconst app = getApp();\r\n\r\nexport default {\n  data() {\n    return {\n      id: '',\n      currentData: 0,\n      detail: {},\n      thisIndex: -1,\n      page: 1,\n      num: 1,\n      logged: false,\n      openid: '',\n      isCollect: false,\n      isDown: false,\n      loading: false,\n      isExist: true\n    };\n  },\n\n  components: {},\n  props: {},\n  onLoad: function (options) {\n    let isLogin = app.globalData.isLogin;\n    console.log('用户是否授权：', app.globalData.isLogin);\n    console.log('是否已有用户openId：', app.globalData.openid);\n    this.setData({\n      id: options.id\n    });\n    this.setData({\n      logged: isLogin ? true : false\n    });\n\n    if (app.globalData.openid) {\n      this.setData({\n        openid: app.globalData.openid\n      });\n    }\n\n    if (options.id) {\n      uni.setStorageSync('shareId', options.id);\n      this.loadDetail(options.id);\n    }\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {},\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {},\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {},\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {},\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh: function () {},\n\n  /**\n   * 页面上拉触底事件的处理函数\n   */\n  onReachBottom: function () {},\n  methods: {\n    loadDetail(id) {\n      let {\n        detail,\n        page,\n        num\n      } = this;\n      let that = this;\n      uni.showLoading({\n        title: '详情加载中...'\n      });\n      uni.cloud.callFunction({\n        name: 'collection_get',\n        data: {\n          database: 'gushici',\n          page,\n          num,\n          condition: {\n            _id: id\n          }\n        }\n      }).then(res => {\n        if (!res.result.data.length) {\n          uni.showToast({\n            icon: 'warn',\n            title: '加载失败'\n          });\n        } else {\n          this.setData({\n            detail: res.result.data[0]\n          });\n          uni.hideLoading();\n        }\n\n        that.setData({\n          isDown: true\n        });\n      }).catch(err => {\n        console.log('失败');\n        that.setData({\n          isExist: false\n        });\n      });\n    },\n\n    goList(e) {\n      uni.navigateTo({\n        url: `/pages/list/list?parenttags=${e.currentTarget.dataset.parenttags}&tags=${e.currentTarget.dataset.tags}`\n      });\n    },\n\n    goPoet(e) {\n      let poet = e.currentTarget.dataset.poet;\n\n      if (poet == '佚名') {\n        return false;\n      } else {\n        uni.navigateTo({\n          url: `/pages/poet/poet?poet=${e.currentTarget.dataset.poet}`\n        });\n      }\n    },\n\n    //点击切换 Tab\n    checkCurrent(e) {\n      if (this.currentData === e.target.dataset.current) {\n        return false;\n      } else {\n        this.setData({\n          currentData: e.target.dataset.current\n        });\n      }\n    },\n\n    onBackhome() {\n      uni.switchTab({\n        url: `/pages/index/index`\n      });\n    }\n\n  }\n};\r\n</script>\r\n<style>\r\n/* miniprogram/pages/detail/detail.wxss */\n.detail {\n  font-size: 32rpx;\n  padding: 30rpx;\n}\n.title {\n  font-size: 36rpx;\n  text-align: center;\n  margin-bottom: 20rpx;\n}\n.poet {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #444;\n}\n.poet>view {\n  padding: 10rpx 20rpx;\n}\n.poet>view.name {\n  color: #2673db;\n}\n.poet view text {\n  color: #666;\n}\n.poem {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 40rpx 0;\n}\n.poem text {\n  line-height: 1.6;\n  font-size: 32rpx;\n}\n.tags {\n  text-align: center;\n}\n.tags text {\n  display: inline-block;\n  border: 1px solid #ddd;\n  color: #777;\n  margin: 10rpx;\n  padding: 4rpx 20rpx;\n  border-radius: 30rpx;\n  font-size: 24rpx;\n}\n\n.more {\n  margin-top: 50rpx;\n}\n\n.tab {\n  float: left;\n  width: 33.3333%;\n  text-align: center;\n  padding: 10rpx 0;\n}\n\n.topTabSwiper {\n  border-bottom: 1px solid #ccc;\n  zoom: 1;\n}\n\n.topTabSwiper:after {\n  content: \"\";\n  clear: both;\n  display: block;\n}\n\n.tabBorer {\n  border-bottom: 1px solid #f00;\n  color: #f00;\n}\n\n.swiper {\n  width: 100%;\n}\n\n.itembox {\n  width: 100%;\n  padding: 40rpx 0;\n}\n.itembox view {\n  margin-bottom: 20rpx;\n}\n.itembox {\n  display: none\n}\n.showItem {\n  display: block;\n}\n\n\n.collect {\n  height: 120rpx;\n  width: 120rpx;\n  position: fixed;\n  bottom: 30rpx;\n  right: 30rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 24rpx;\n  background: rgba(0, 0, 0, .6);\n  border-radius: 50%;\n  z-index: 10;\n}\n\n.collect image {\n  height: 50rpx;\n  width: 50rpx;\n}\n.collect text {\n  color: #fff;\n}\n\n.collect button {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  opacity: 0.1;\n}\n\n\n.share {\n  height: 120rpx;\n  width: 120rpx;\n  position: fixed;\n  bottom: 170rpx;\n  right: 30rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 24rpx;\n  background: rgba(0, 0, 0, .6);\n  border-radius: 50%;\n  z-index: 10;\n}\n.share image {\n  height: 70rpx;\n  width: 70rpx;\n}\n.share text {\n  color: #fff;\n}\n\n.share button {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  opacity: 0.1;\n  z-index: 99;\n}\n\n.backhome {\n  height: 110rpx;\n  width: 110rpx;\n  position: fixed;\n  top: 10rpx;\n  right: 20rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 24rpx;\n  background: rgba(255, 255, 255, .4);\n  border-radius: 50%;\n  box-shadow: 1px 1px 2px #bbb;\n  z-index: 10;\n}\n.backhome image {\n  height: 50rpx;\n  width: 50rpx;\n}\n.backhome text {\n  color: #666;\n  font-size: 20rpx;\n}\n\n\r\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1612862046694\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}